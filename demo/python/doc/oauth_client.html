
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module oauth_client</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>oauth_client</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/nick/Documents/Author/Conferences/2014-06-SPA/OAuth/demo/python/oauth_client.py">/Users/nick/Documents/Author/Conferences/2014-06-SPA/OAuth/demo/python/oauth_client.py</a></font></td></tr></table>
    <p><tt>oauth_client.py:&nbsp;Dropbox&nbsp;Python&nbsp;OAuth&nbsp;API&nbsp;demo&nbsp;client<br>
&nbsp;<br>
This&nbsp;is&nbsp;the&nbsp;script&nbsp;which&nbsp;runs&nbsp;the&nbsp;Oauth&nbsp;demo&nbsp;client.<br>
It&nbsp;checks&nbsp;whether&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;exists,&nbsp;and&nbsp;presents&nbsp;the&nbsp;user&nbsp;with&nbsp;a&nbsp;menu&nbsp;of&nbsp;relevant&nbsp;options.<br>
&nbsp;<br>
If&nbsp;the&nbsp;client&nbsp;has&nbsp;previously&nbsp;been&nbsp;authorised&nbsp;with&nbsp;Dropbox&nbsp;(ie&nbsp;the&nbsp;Dropbox&nbsp;token&nbsp;file&nbsp;exists),<br>
the&nbsp;options&nbsp;allow&nbsp;the&nbsp;user&nbsp;to&nbsp;manipulate&nbsp;files&nbsp;in&nbsp;the&nbsp;Dropbox&nbsp;app&nbsp;directory&nbsp;using&nbsp;Dropbox&nbsp;calls<br>
(not&nbsp;using&nbsp;filesystem&nbsp;I/O).<br>
&nbsp;<br>
If&nbsp;the&nbsp;client&nbsp;has&nbsp;not&nbsp;yet&nbsp;been&nbsp;authorised&nbsp;with&nbsp;Dropbox&nbsp;(ie&nbsp;the&nbsp;Dropbox&nbsp;token&nbsp;file&nbsp;does&nbsp;not&nbsp;exist),<br>
the&nbsp;options&nbsp;allow&nbsp;the&nbsp;user&nbsp;to&nbsp;run&nbsp;either&nbsp;the&nbsp;no-redirect&nbsp;or&nbsp;redirect&nbsp;workflows.<br>
&nbsp;<br>
&nbsp;<br>
Global&nbsp;variables:<br>
&nbsp;&nbsp;&nbsp;&nbsp;logger:&nbsp;used&nbsp;to&nbsp;log&nbsp;error,&nbsp;info&nbsp;and&nbsp;debug&nbsp;messages<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;example&nbsp;usage:&nbsp;logger&nbsp;=&nbsp;CO.logger;&nbsp;logger('message')<br>
&nbsp;&nbsp;&nbsp;&nbsp;dropbox_client:&nbsp;a&nbsp;dropbox.client.DropboxClient()&nbsp;which&nbsp;can&nbsp;be&nbsp;manipulated&nbsp;by&nbsp;the&nbsp;user<br>
&nbsp;<br>
Workflow&nbsp;Methods:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_authorise_no_redirect">oauth_authorise_no_redirect</a>():&nbsp;run&nbsp;noredirect&nbsp;authorisation&nbsp;workflow&nbsp;(requires&nbsp;auth&nbsp;code&nbsp;to&nbsp;be&nbsp;entered)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_authorise_redirect">oauth_authorise_redirect</a>():&nbsp;start&nbsp;redirect&nbsp;authorisation&nbsp;workflow&nbsp;(uses&nbsp;HTTP&nbsp;web&nbsp;server&nbsp;to&nbsp;simulate&nbsp;URL&nbsp;schema)<br>
&nbsp;<br>
Other&nbsp;Methods:<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_access_token_file_exists">oauth_access_token_file_exists</a>():&nbsp;print&nbsp;whether&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;exists<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_print_access_token_file">oauth_print_access_token_file</a>():&nbsp;print&nbsp;the&nbsp;access&nbsp;token&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_delete_access_token_file">oauth_delete_access_token_file</a>():&nbsp;delete&nbsp;the&nbsp;access&nbsp;token&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_help">oauth_help</a>():&nbsp;display&nbsp;a&nbsp;help&nbsp;message&nbsp;which&nbsp;shows&nbsp;what&nbsp;functions&nbsp;can&nbsp;be&nbsp;called<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#-oauth_debug">oauth_debug</a>():&nbsp;enable&nbsp;/&nbsp;disable&nbsp;debugging</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="common_oauth.html">common_oauth</a><br>
</td><td width="25%" valign=top><a href="dropbox_workflow.html">dropbox_workflow</a><br>
</td><td width="25%" valign=top><a href="dropbox.html">dropbox</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-oauth_access_token_file_exists"><strong>oauth_access_token_file_exists</strong></a>()</dt><dd><tt>print&nbsp;whether&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;exists</tt></dd></dl>
 <dl><dt><a name="-oauth_authorise_no_redirect"><strong>oauth_authorise_no_redirect</strong></a>()</dt><dd><tt>run&nbsp;noredirect&nbsp;authorisation&nbsp;workflow&nbsp;(requires&nbsp;auth&nbsp;code&nbsp;to&nbsp;be&nbsp;entered)<br>
&nbsp;<br>
This&nbsp;consists&nbsp;of&nbsp;the&nbsp;following&nbsp;steps:<br>
-&nbsp;Delete&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;if&nbsp;it&nbsp;exists.<br>
-&nbsp;Start&nbsp;the&nbsp;workflow&nbsp;by&nbsp;calling&nbsp;DropboxWorkflow.no_redirect_client_start().<br>
-&nbsp;Open&nbsp;a&nbsp;browser&nbsp;window&nbsp;at&nbsp;the&nbsp;URL&nbsp;returned&nbsp;by&nbsp;no_redirect_client_start().<br>
-&nbsp;Prompt&nbsp;the&nbsp;user&nbsp;to&nbsp;enter&nbsp;the&nbsp;authorisation&nbsp;code&nbsp;displayed&nbsp;by&nbsp;Dropbox&nbsp;in&nbsp;this&nbsp;window.<br>
-&nbsp;Finish&nbsp;the&nbsp;workflow,&nbsp;save&nbsp;the&nbsp;access&nbsp;token&nbsp;and&nbsp;generate&nbsp;the&nbsp;sample&nbsp;files<br>
&nbsp;&nbsp;by&nbsp;calling&nbsp;DropboxWork.no_redirect_client_finish_and_save().<br>
&nbsp;<br>
@see&nbsp;https://www.dropbox.com/developers/core/docs/python#DropboxOAuth2FlowNoRedirect</tt></dd></dl>
 <dl><dt><a name="-oauth_authorise_redirect"><strong>oauth_authorise_redirect</strong></a>()</dt><dd><tt>start&nbsp;redirect&nbsp;authorisation&nbsp;workflow&nbsp;(uses&nbsp;HTTP&nbsp;web&nbsp;server&nbsp;to&nbsp;simulate&nbsp;URL&nbsp;schema)<br>
&nbsp;<br>
Start&nbsp;the&nbsp;Oauth&nbsp;no-redirect&nbsp;workflow.<br>
-&nbsp;This&nbsp;consists&nbsp;of&nbsp;the&nbsp;following&nbsp;steps:<br>
-&nbsp;Delete&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;if&nbsp;it&nbsp;exists.<br>
-&nbsp;Start&nbsp;the&nbsp;workflow&nbsp;by&nbsp;calling&nbsp;DropboxWorkflow.redirect_client_start().<br>
-&nbsp;Open&nbsp;a&nbsp;browser&nbsp;window&nbsp;at&nbsp;the&nbsp;URL&nbsp;returned&nbsp;by&nbsp;redirect_client_start().<br>
-&nbsp;Wait&nbsp;for&nbsp;the&nbsp;access&nbsp;token&nbsp;file&nbsp;to&nbsp;be&nbsp;created&nbsp;by&nbsp;the&nbsp;HTTP&nbsp;server<br>
&nbsp;&nbsp;(which&nbsp;is&nbsp;running&nbsp;the&nbsp;finish&nbsp;step&nbsp;of&nbsp;the&nbsp;workflow).<br>
&nbsp;<br>
@see&nbsp;https://www.dropbox.com/developers/core/docs/python#DropboxOAuth2Flow</tt></dd></dl>
 <dl><dt><a name="-oauth_debug"><strong>oauth_debug</strong></a>(enable)</dt><dd><tt>enable&nbsp;/&nbsp;disable&nbsp;debugging</tt></dd></dl>
 <dl><dt><a name="-oauth_delete_access_token_file"><strong>oauth_delete_access_token_file</strong></a>()</dt><dd><tt>delete&nbsp;the&nbsp;access&nbsp;token&nbsp;file</tt></dd></dl>
 <dl><dt><a name="-oauth_help"><strong>oauth_help</strong></a>()</dt><dd><tt>display&nbsp;a&nbsp;help&nbsp;message&nbsp;which&nbsp;shows&nbsp;what&nbsp;functions&nbsp;can&nbsp;be&nbsp;called</tt></dd></dl>
 <dl><dt><a name="-oauth_print_access_token_file"><strong>oauth_print_access_token_file</strong></a>()</dt><dd><tt>print&nbsp;the&nbsp;access&nbsp;token&nbsp;file</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>ACCOUNT_INFO_FILE</strong> = '/account_info.python.txt'<br>
<strong>REVIEW_DIRECTORY</strong> = '/oauth_session_python'<br>
<strong>REVIEW_FILE</strong> = '/oauth_session_python/oauth_session_review.python.md'<br>
<strong>logger</strong> = &lt;logging.Logger object&gt;</td></tr></table>
</body></html>